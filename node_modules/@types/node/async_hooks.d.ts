
declare module "async_hooks" {
    
    function executionAsyncId(): number;
    
    function executionAsyncResource(): object;
    
    function triggerAsyncId(): number;
    interface HookCallbacks {
        
        init?(asyncId: number, type: string, triggerAsyncId: number, resource: object): void;
        
        before?(asyncId: number): void;
        
        after?(asyncId: number): void;
        
        promiseResolve?(asyncId: number): void;
        
        destroy?(asyncId: number): void;
    }
    interface AsyncHook {
        
        enable(): this;
        
        disable(): this;
    }
    
    function createHook(callbacks: HookCallbacks): AsyncHook;
    interface AsyncResourceOptions {
        
        triggerAsyncId?: number | undefined;
        
        requireManualDestroy?: boolean | undefined;
    }
    
    class AsyncResource {
        
        constructor(type: string, triggerAsyncId?: number | AsyncResourceOptions);
        
        static bind<Func extends (this: ThisArg, ...args: any[]) => any, ThisArg>(
            fn: Func,
            type?: string,
            thisArg?: ThisArg,
        ): Func;
        
        bind<Func extends (...args: any[]) => any>(fn: Func): Func;
        
        runInAsyncScope<This, Result>(
            fn: (this: This, ...args: any[]) => Result,
            thisArg?: This,
            ...args: any[]
        ): Result;
        
        emitDestroy(): this;
        
        asyncId(): number;
        
        triggerAsyncId(): number;
    }
    interface AsyncLocalStorageOptions {
        
        defaultValue?: any;
        
        name?: string | undefined;
    }
    
    class AsyncLocalStorage<T> {
        
        constructor(options?: AsyncLocalStorageOptions);
        
        static bind<Func extends (...args: any[]) => any>(fn: Func): Func;
        
        static snapshot(): <R, TArgs extends any[]>(fn: (...args: TArgs) => R, ...args: TArgs) => R;
        
        disable(): void;
        
        getStore(): T | undefined;
        
        readonly name: string;
        
        run<R>(store: T, callback: () => R): R;
        run<R, TArgs extends any[]>(store: T, callback: (...args: TArgs) => R, ...args: TArgs): R;
        
        exit<R, TArgs extends any[]>(callback: (...args: TArgs) => R, ...args: TArgs): R;
        
        enterWith(store: T): void;
    }
    
    namespace asyncWrapProviders {
        const NONE: number;
        const DIRHANDLE: number;
        const DNSCHANNEL: number;
        const ELDHISTOGRAM: number;
        const FILEHANDLE: number;
        const FILEHANDLECLOSEREQ: number;
        const FIXEDSIZEBLOBCOPY: number;
        const FSEVENTWRAP: number;
        const FSREQCALLBACK: number;
        const FSREQPROMISE: number;
        const GETADDRINFOREQWRAP: number;
        const GETNAMEINFOREQWRAP: number;
        const HEAPSNAPSHOT: number;
        const HTTP2SESSION: number;
        const HTTP2STREAM: number;
        const HTTP2PING: number;
        const HTTP2SETTINGS: number;
        const HTTPINCOMINGMESSAGE: number;
        const HTTPCLIENTREQUEST: number;
        const JSSTREAM: number;
        const JSUDPWRAP: number;
        const MESSAGEPORT: number;
        const PIPECONNECTWRAP: number;
        const PIPESERVERWRAP: number;
        const PIPEWRAP: number;
        const PROCESSWRAP: number;
        const PROMISE: number;
        const QUERYWRAP: number;
        const SHUTDOWNWRAP: number;
        const SIGNALWRAP: number;
        const STATWATCHER: number;
        const STREAMPIPE: number;
        const TCPCONNECTWRAP: number;
        const TCPSERVERWRAP: number;
        const TCPWRAP: number;
        const TTYWRAP: number;
        const UDPSENDWRAP: number;
        const UDPWRAP: number;
        const SIGINTWATCHDOG: number;
        const WORKER: number;
        const WORKERHEAPSNAPSHOT: number;
        const WRITEWRAP: number;
        const ZLIB: number;
        const CHECKPRIMEREQUEST: number;
        const PBKDF2REQUEST: number;
        const KEYPAIRGENREQUEST: number;
        const KEYGENREQUEST: number;
        const KEYEXPORTREQUEST: number;
        const CIPHERREQUEST: number;
        const DERIVEBITSREQUEST: number;
        const HASHREQUEST: number;
        const RANDOMBYTESREQUEST: number;
        const RANDOMPRIMEREQUEST: number;
        const SCRYPTREQUEST: number;
        const SIGNREQUEST: number;
        const TLSWRAP: number;
        const VERIFYREQUEST: number;
    }
}
declare module "node:async_hooks" {
    export * from "async_hooks";
}
