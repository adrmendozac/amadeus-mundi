
declare module "assert" {
    import strict = require("assert/strict");
    
    function assert(value: unknown, message?: string | Error): asserts value;
    const kOptions: unique symbol;
    namespace assert {
        type AssertMethodNames =
            | "deepEqual"
            | "deepStrictEqual"
            | "doesNotMatch"
            | "doesNotReject"
            | "doesNotThrow"
            | "equal"
            | "fail"
            | "ifError"
            | "match"
            | "notDeepEqual"
            | "notDeepStrictEqual"
            | "notEqual"
            | "notStrictEqual"
            | "ok"
            | "partialDeepStrictEqual"
            | "rejects"
            | "strictEqual"
            | "throws";
        interface AssertOptions {
            
            diff?: "simple" | "full" | undefined;
            
            strict?: boolean | undefined;
        }
        interface Assert extends Pick<typeof assert, AssertMethodNames> {
            readonly [kOptions]: AssertOptions & { strict: false };
        }
        interface AssertStrict extends Pick<typeof strict, AssertMethodNames> {
            readonly [kOptions]: AssertOptions & { strict: true };
        }
        
        var Assert: {
            
            new(
                options?: AssertOptions & { strict?: true | undefined },
            ): AssertStrict;
            new(
                options: AssertOptions,
            ): Assert;
        };
        interface AssertionErrorOptions {
            
            message?: string | undefined;
            
            actual?: unknown;
            
            expected?: unknown;
            
            operator?: string | undefined;
            
            stackStartFn?: Function | undefined;
            
            diff?: "simple" | "full" | undefined;
        }
        
        class AssertionError extends Error {
            constructor(options: AssertionErrorOptions);
            
            actual: unknown;
            
            expected: unknown;
            
            generatedMessage: boolean;
            
            code: "ERR_ASSERTION";
            
            operator: string;
        }
        
        class CallTracker {
            
            calls(exact?: number): () => void;
            calls(fn: undefined, exact?: number): () => void;
            calls<Func extends (...args: any[]) => any>(fn: Func, exact?: number): Func;
            calls<Func extends (...args: any[]) => any>(fn?: Func, exact?: number): Func | (() => void);
            
            getCalls(fn: Function): CallTrackerCall[];
            
            report(): CallTrackerReportInformation[];
            
            reset(fn?: Function): void;
            
            verify(): void;
        }
        interface CallTrackerCall {
            thisArg: object;
            arguments: unknown[];
        }
        interface CallTrackerReportInformation {
            message: string;
            
            actual: number;
            
            expected: number;
            
            operator: string;
            
            stack: object;
        }
        type AssertPredicate = RegExp | (new() => object) | ((thrown: unknown) => boolean) | object | Error;
        
        function fail(message?: string | Error): never;
        
        function fail(
            actual: unknown,
            expected: unknown,
            message?: string | Error,
            operator?: string,
            
            stackStartFn?: Function,
        ): never;
        
        function ok(value: unknown, message?: string | Error): asserts value;
        
        function equal(actual: unknown, expected: unknown, message?: string | Error): void;
        
        function notEqual(actual: unknown, expected: unknown, message?: string | Error): void;
        
        function deepEqual(actual: unknown, expected: unknown, message?: string | Error): void;
        
        function notDeepEqual(actual: unknown, expected: unknown, message?: string | Error): void;
        
        function strictEqual<T>(actual: unknown, expected: T, message?: string | Error): asserts actual is T;
        
        function notStrictEqual(actual: unknown, expected: unknown, message?: string | Error): void;
        
        function deepStrictEqual<T>(actual: unknown, expected: T, message?: string | Error): asserts actual is T;
        
        function notDeepStrictEqual(actual: unknown, expected: unknown, message?: string | Error): void;
        
        function throws(block: () => unknown, message?: string | Error): void;
        function throws(block: () => unknown, error: AssertPredicate, message?: string | Error): void;
        
        function doesNotThrow(block: () => unknown, message?: string | Error): void;
        function doesNotThrow(block: () => unknown, error: AssertPredicate, message?: string | Error): void;
        
        function ifError(value: unknown): asserts value is null | undefined;
        
        function rejects(block: (() => Promise<unknown>) | Promise<unknown>, message?: string | Error): Promise<void>;
        function rejects(
            block: (() => Promise<unknown>) | Promise<unknown>,
            error: AssertPredicate,
            message?: string | Error,
        ): Promise<void>;
        
        function doesNotReject(
            block: (() => Promise<unknown>) | Promise<unknown>,
            message?: string | Error,
        ): Promise<void>;
        function doesNotReject(
            block: (() => Promise<unknown>) | Promise<unknown>,
            error: AssertPredicate,
            message?: string | Error,
        ): Promise<void>;
        
        function match(value: string, regExp: RegExp, message?: string | Error): void;
        
        function doesNotMatch(value: string, regExp: RegExp, message?: string | Error): void;
        
        function partialDeepStrictEqual(actual: unknown, expected: unknown, message?: string | Error): void;
    }
    namespace assert {
        export { strict };
    }
    export = assert;
}
declare module "node:assert" {
    import assert = require("assert");
    export = assert;
}
