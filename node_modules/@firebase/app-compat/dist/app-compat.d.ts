import { Compat } from '@firebase/util';
import { Component } from '@firebase/component';
import { LogCallback } from '@firebase/logger';
import { LogLevelString } from '@firebase/logger';
import { LogOptions } from '@firebase/logger';
import { Name } from '@firebase/component';

declare const firebase: FirebaseNamespace;
export default firebase;


export declare interface FirebaseApp extends _FirebaseApp {
}

declare interface _FirebaseApp {
    
    name: string;
    
    options: FirebaseOptions;
    
    automaticDataCollectionEnabled: boolean;
    
    delete(): Promise<void>;
}

declare interface FirebaseAppConfig {
    name?: string;
    automaticDataCollectionEnabled?: boolean;
}

declare interface FirebaseAppConstructor {
    new (): FirebaseApp;
}

export declare interface FirebaseNamespace {
    
    initializeApp(options: FirebaseOptions, config?: FirebaseAppConfig): FirebaseApp;
    
    initializeApp(options: FirebaseOptions, name?: string): FirebaseApp;
    app: {
        
        (name?: string): FirebaseApp;
        
        App: FirebaseAppConstructor;
    };
    
    apps: FirebaseApp[];
    
    registerVersion(library: string, version: string, variant?: string): void;
    setLogLevel(logLevel: LogLevelString): void;
    onLog(logCallback: LogCallback, options?: LogOptions): void;
    SDK_VERSION: string;
}

export declare interface _FirebaseNamespace extends FirebaseNamespace {
    INTERNAL: {
        
        registerComponent<T extends Name>(component: Component<T>): FirebaseServiceNamespace<_FirebaseService> | null;
        
        removeApp(name: string): void;
        useAsService(app: FirebaseApp, serviceName: string): string | null;
        [index: string]: unknown;
    };
}

declare interface FirebaseOptions {
    apiKey?: string;
    authDomain?: string;
    databaseURL?: string;
    projectId?: string;
    storageBucket?: string;
    messagingSenderId?: string;
    appId?: string;
    measurementId?: string;
}

export declare interface _FirebaseService extends Compat<unknown> {
    app: FirebaseApp;
    INTERNAL?: FirebaseServiceInternals;
}

declare interface FirebaseServiceInternals {
    
    delete(): Promise<void>;
}


declare interface FirebaseServiceNamespace<T extends _FirebaseService> {
    (app?: FirebaseApp): T;
}

export { }
