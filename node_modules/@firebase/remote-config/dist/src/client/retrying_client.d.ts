
import { FetchResponse } from '../public_types';
import { RemoteConfigAbortSignal, RemoteConfigFetchClient, FetchRequest } from './remote_config_fetch_client';
import { ThrottleMetadata, Storage } from '../storage/storage';

export declare function setAbortableTimeout(signal: RemoteConfigAbortSignal, throttleEndTimeMillis: number): Promise<void>;

export declare class RetryingClient implements RemoteConfigFetchClient {
    private readonly client;
    private readonly storage;
    constructor(client: RemoteConfigFetchClient, storage: Storage);
    fetch(request: FetchRequest): Promise<FetchResponse>;
    
    attemptFetch(request: FetchRequest, { throttleEndTimeMillis, backoffCount }: ThrottleMetadata): Promise<FetchResponse>;
}
