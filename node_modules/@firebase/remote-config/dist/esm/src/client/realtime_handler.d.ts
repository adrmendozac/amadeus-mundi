
import { _FirebaseInstallationsInternal } from '@firebase/installations';
import { Logger } from '@firebase/logger';
import { ConfigUpdateObserver } from '../public_types';
import { Storage } from '../storage/storage';
import { StorageCache } from '../storage/storage_cache';
import { CachingClient } from './caching_client';
export declare class RealtimeHandler {
    private readonly firebaseInstallations;
    private readonly storage;
    private readonly sdkVersion;
    private readonly namespace;
    private readonly projectId;
    private readonly apiKey;
    private readonly appId;
    private readonly logger;
    private readonly storageCache;
    private readonly cachingClient;
    constructor(firebaseInstallations: _FirebaseInstallationsInternal, storage: Storage, sdkVersion: string, namespace: string, projectId: string, apiKey: string, appId: string, logger: Logger, storageCache: StorageCache, cachingClient: CachingClient);
    private observers;
    private isConnectionActive;
    private isRealtimeDisabled;
    private controller?;
    private reader;
    private httpRetriesRemaining;
    private isInBackground;
    private readonly decoder;
    private isClosingConnection;
    private setRetriesRemaining;
    private propagateError;
    
    private updateBackoffMetadataWithLastFailedStreamConnectionTime;
    
    private updateBackoffMetadataWithRetryInterval;
    
    private isStatusCodeRetryable;
    
    private closeRealtimeHttpConnection;
    private resetRealtimeBackoff;
    private resetRetryCount;
    
    private establishRealtimeConnection;
    private getRealtimeUrl;
    private createRealtimeConnection;
    
    private retryHttpConnectionWhenBackoffEnds;
    private setIsHttpConnectionRunning;
    
    private checkAndSetHttpConnectionFlagIfNotRunning;
    private fetchResponseIsUpToDate;
    private parseAndValidateConfigUpdateMessage;
    private isEventListenersEmpty;
    private getRandomInt;
    private executeAllListenerCallbacks;
    
    private getChangedParams;
    private fetchLatestConfig;
    private autoFetch;
    
    private handleNotifications;
    private listenForNotifications;
    
    private prepareAndBeginRealtimeHttpStream;
    
    private canEstablishStreamConnection;
    private makeRealtimeHttpConnection;
    private beginRealtime;
    
    addObserver(observer: ConfigUpdateObserver): void;
    
    removeObserver(observer: ConfigUpdateObserver): void;
    
    private onVisibilityChange;
}
