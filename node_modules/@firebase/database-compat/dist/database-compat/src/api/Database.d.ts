
import { FirebaseApp } from '@firebase/app-types';
import { FirebaseService } from '@firebase/app-types/private';
import { forceLongPolling, forceWebSockets, Database as ModularDatabase } from '@firebase/database';
import { Compat, EmulatorMockTokenOptions } from '@firebase/util';
import { Reference } from './Reference';

export declare class Database implements FirebaseService, Compat<ModularDatabase> {
    readonly _delegate: ModularDatabase;
    readonly app: FirebaseApp;
    static readonly ServerValue: {
        TIMESTAMP: object;
        increment: (delta: number) => object;
    };
    
    constructor(_delegate: ModularDatabase, app: FirebaseApp);
    INTERNAL: {
        delete: () => Promise<void>;
        forceWebSockets: typeof forceWebSockets;
        forceLongPolling: typeof forceLongPolling;
    };
    
    useEmulator(host: string, port: number, options?: {
        mockUserToken?: EmulatorMockTokenOptions;
    }): void;
    
    ref(path?: string): Reference;
    ref(path?: Reference): Reference;
    
    refFromURL(url: string): Reference;
    goOffline(): void;
    goOnline(): void;
}
