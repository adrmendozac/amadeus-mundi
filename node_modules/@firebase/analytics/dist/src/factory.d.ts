
import { SettingsOptions, Analytics, AnalyticsSettings } from './public-types';
import { Gtag, DynamicConfig, MinimalDynamicConfig } from './types';
import { _FirebaseInstallationsInternal } from '@firebase/installations';
import { FirebaseApp, _FirebaseService } from '@firebase/app';

export declare class AnalyticsService implements Analytics, _FirebaseService {
    app: FirebaseApp;
    constructor(app: FirebaseApp);
    _delete(): Promise<void>;
}

export declare let initializationPromisesMap: {
    [appId: string]: Promise<string>;
};

export declare let wrappedGtagFunction: Gtag;

export declare function resetGlobalVars(newGlobalInitDone?: boolean, newInitializationPromisesMap?: {}, newDynamicPromises?: never[]): void;

export declare function getGlobalVars(): {
    initializationPromisesMap: {
        [appId: string]: Promise<string>;
    };
    dynamicConfigPromisesList: Array<Promise<DynamicConfig | MinimalDynamicConfig>>;
};

export declare function settings(options: SettingsOptions): void;

export declare function factory(app: FirebaseApp, installations: _FirebaseInstallationsInternal, options?: AnalyticsSettings): AnalyticsService;
