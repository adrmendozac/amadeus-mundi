
import { CountTokensRequest, GenerateContentRequest, InferenceMode, OnDeviceParams } from '../types';
import { ChromeAdapter } from '../types/chrome-adapter';
import { LanguageModel } from '../types/language-model';

export declare class ChromeAdapterImpl implements ChromeAdapter {
    languageModelProvider: LanguageModel;
    mode: InferenceMode;
    onDeviceParams: OnDeviceParams;
    static SUPPORTED_MIME_TYPES: string[];
    private isDownloading;
    private downloadPromise;
    private oldSession;
    constructor(languageModelProvider: LanguageModel, mode: InferenceMode, onDeviceParams?: OnDeviceParams);
    
    isAvailable(request: GenerateContentRequest): Promise<boolean>;
    
    generateContent(request: GenerateContentRequest): Promise<Response>;
    
    generateContentStream(request: GenerateContentRequest): Promise<Response>;
    countTokens(_request: CountTokensRequest): Promise<Response>;
    
    private static isOnDeviceRequest;
    
    private downloadIfAvailable;
    
    private download;
    
    private static toLanguageModelMessage;
    
    private static toLanguageModelMessageContent;
    
    private static toLanguageModelMessageRole;
    
    private createSession;
    
    private static toResponse;
    
    private static toStreamResponse;
}

export declare function chromeAdapterFactory(mode: InferenceMode, window?: Window, params?: OnDeviceParams): ChromeAdapterImpl | undefined;
