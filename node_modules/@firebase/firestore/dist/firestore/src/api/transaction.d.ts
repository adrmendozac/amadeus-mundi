
import { Transaction as InternalTransaction } from '../core/transaction';
import { DocumentData, DocumentReference } from '../lite-api/reference';
import { Transaction as LiteTransaction } from '../lite-api/transaction';
import { Firestore } from './database';
import { DocumentSnapshot } from './snapshot';
import { TransactionOptions } from './transaction_options';

export declare class Transaction extends LiteTransaction {
    protected readonly _firestore: Firestore;
    
    constructor(_firestore: Firestore, _transaction: InternalTransaction);
    
    get<AppModelType, DbModelType extends DocumentData>(documentRef: DocumentReference<AppModelType, DbModelType>): Promise<DocumentSnapshot<AppModelType, DbModelType>>;
}

export declare function runTransaction<T>(firestore: Firestore, updateFunction: (transaction: Transaction) => Promise<T>, options?: TransactionOptions): Promise<T>;
