
import { SnapshotVersion } from '../core/snapshot_version';
import { DocumentKey } from './document_key';
import { ObjectValue } from './object_value';
import { FieldPath } from './path';

export interface Document {
    
    readonly key: DocumentKey;
    
    readonly version: SnapshotVersion;
    
    readonly readTime: SnapshotVersion;
    
    readonly createTime: SnapshotVersion;
    
    readonly data: ObjectValue;
    
    readonly hasLocalMutations: boolean;
    
    readonly hasCommittedMutations: boolean;
    
    readonly hasPendingWrites: boolean;
    
    isValidDocument(): boolean;
    
    isFoundDocument(): boolean;
    
    isNoDocument(): boolean;
    
    isUnknownDocument(): boolean;
    isEqual(other: Document | null | undefined): boolean;
    
    mutableCopy(): MutableDocument;
    toString(): string;
}

export declare class MutableDocument implements Document {
    readonly key: DocumentKey;
    private documentType;
    version: SnapshotVersion;
    readTime: SnapshotVersion;
    createTime: SnapshotVersion;
    data: ObjectValue;
    private documentState;
    private constructor();
    
    static newInvalidDocument(documentKey: DocumentKey): MutableDocument;
    
    static newFoundDocument(documentKey: DocumentKey, version: SnapshotVersion, createTime: SnapshotVersion, value: ObjectValue): MutableDocument;
    
    static newNoDocument(documentKey: DocumentKey, version: SnapshotVersion): MutableDocument;
    
    static newUnknownDocument(documentKey: DocumentKey, version: SnapshotVersion): MutableDocument;
    
    convertToFoundDocument(version: SnapshotVersion, value: ObjectValue): MutableDocument;
    
    convertToNoDocument(version: SnapshotVersion): MutableDocument;
    
    convertToUnknownDocument(version: SnapshotVersion): MutableDocument;
    setHasCommittedMutations(): MutableDocument;
    setHasLocalMutations(): MutableDocument;
    setReadTime(readTime: SnapshotVersion): MutableDocument;
    get hasLocalMutations(): boolean;
    get hasCommittedMutations(): boolean;
    get hasPendingWrites(): boolean;
    isValidDocument(): boolean;
    isFoundDocument(): boolean;
    isNoDocument(): boolean;
    isUnknownDocument(): boolean;
    isEqual(other: Document | null | undefined): boolean;
    mutableCopy(): MutableDocument;
    toString(): string;
}

export declare function compareDocumentsByField(field: FieldPath, d1: Document, d2: Document): number;
