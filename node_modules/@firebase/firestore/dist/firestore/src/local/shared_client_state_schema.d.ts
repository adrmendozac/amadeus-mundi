
import { User } from '../auth/user';
import { BatchId, MutationBatchState, TargetId } from '../core/types';
import { ClientId } from './shared_client_state';
import { QueryTargetState } from './shared_client_state_syncer';
export declare const CLIENT_STATE_KEY_PREFIX = "firestore_clients";

export declare function createWebStorageClientStateKey(persistenceKey: string, clientId: ClientId): string;

export interface ClientStateSchema {
    activeTargetIds: number[];
    updateTimeMs: number;
}
export declare const MUTATION_BATCH_KEY_PREFIX = "firestore_mutations";

export declare function createWebStorageMutationBatchKey(persistenceKey: string, user: User, batchId: BatchId): string;

export interface MutationMetadataSchema {
    state: MutationBatchState;
    error?: {
        code: string;
        message: string;
    };
    updateTimeMs: number;
}
export declare const QUERY_TARGET_KEY_PREFIX = "firestore_targets";

export declare function createWebStorageQueryTargetMetadataKey(persistenceKey: string, targetId: TargetId): string;

export interface QueryTargetStateSchema {
    state: QueryTargetState;
    error?: {
        code: string;
        message: string;
    };
    updateTimeMs: number;
}
export declare const ONLINE_STATE_KEY_PREFIX = "firestore_online_state";

export declare function createWebStorageOnlineStateKey(persistenceKey: string): string;
export declare const BUNDLE_LOADED_KEY_PREFIX = "firestore_bundle_loaded_v2";
export declare function createBundleLoadedKey(persistenceKey: string): string;

export interface SharedOnlineStateSchema {
    
    readonly clientId: string;
    readonly onlineState: string;
}
export declare const SEQUENCE_NUMBER_KEY_PREFIX = "firestore_sequence_number";

export declare function createWebStorageSequenceNumberKey(persistenceKey: string): string;
