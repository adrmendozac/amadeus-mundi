
import { LocalSerializer } from './local_serializer';
import { PersistencePromise } from './persistence_promise';
import { SimpleDbSchemaConverter } from './simple_db';

export declare class SchemaConverter implements SimpleDbSchemaConverter {
    private readonly serializer;
    constructor(serializer: LocalSerializer);
    
    createOrUpgrade(db: IDBDatabase, txn: IDBTransaction, fromVersion: number, toVersion: number): PersistencePromise<void>;
    private addDocumentGlobal;
    private removeAcknowledgedMutations;
    
    private ensureSequenceNumbers;
    private createCollectionParentIndex;
    private rewriteCanonicalIds;
    private rewriteRemoteDocumentCache;
    private runOverlayMigration;
}
