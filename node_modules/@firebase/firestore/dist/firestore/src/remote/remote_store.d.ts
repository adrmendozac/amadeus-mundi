
import { User } from '../auth/user';
import { OnlineState, TargetId } from '../core/types';
import { LocalStore } from '../local/local_store';
import { TargetData } from '../local/target_data';
import { AsyncQueue } from '../util/async_queue';
import { ConnectivityMonitor } from './connectivity_monitor';
import { Datastore } from './datastore';
import { RemoteSyncer } from './remote_syncer';

export interface RemoteStore {
    
    remoteSyncer: RemoteSyncer;
}
export declare function newRemoteStore(localStore: LocalStore, datastore: Datastore, asyncQueue: AsyncQueue, onlineStateHandler: (onlineState: OnlineState) => void, connectivityMonitor: ConnectivityMonitor): RemoteStore;

export declare function remoteStoreEnableNetwork(remoteStore: RemoteStore): Promise<void>;

export declare function remoteStoreDisableNetwork(remoteStore: RemoteStore): Promise<void>;
export declare function remoteStoreShutdown(remoteStore: RemoteStore): Promise<void>;

export declare function remoteStoreListen(remoteStore: RemoteStore, targetData: TargetData): void;

export declare function remoteStoreUnlisten(remoteStore: RemoteStore, targetId: TargetId): void;
export declare function canUseNetwork(remoteStore: RemoteStore): boolean;

export declare function fillWritePipeline(remoteStore: RemoteStore): Promise<void>;
export declare function outstandingWrites(remoteStore: RemoteStore): number;
export declare function remoteStoreHandleCredentialChange(remoteStore: RemoteStore, user: User): Promise<void>;

export declare function remoteStoreApplyPrimaryState(remoteStore: RemoteStore, isPrimary: boolean): Promise<void>;
