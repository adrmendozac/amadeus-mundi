
import { SnapshotVersion } from '../core/snapshot_version';
import { TargetId } from '../core/types';
import { TargetPurpose } from '../local/target_data';
import { DocumentKeySet, MutableDocumentMap } from '../model/collections';
import { ByteString } from '../util/byte_string';
import { SortedMap } from '../util/sorted_map';

export declare class RemoteEvent {
    
    readonly snapshotVersion: SnapshotVersion;
    
    readonly targetChanges: Map<TargetId, TargetChange>;
    
    readonly targetMismatches: SortedMap<TargetId, TargetPurpose>;
    
    readonly documentUpdates: MutableDocumentMap;
    
    readonly resolvedLimboDocuments: DocumentKeySet;
    constructor(
    
    snapshotVersion: SnapshotVersion, 
    
    targetChanges: Map<TargetId, TargetChange>, 
    
    targetMismatches: SortedMap<TargetId, TargetPurpose>, 
    
    documentUpdates: MutableDocumentMap, 
    
    resolvedLimboDocuments: DocumentKeySet);
    
    static createSynthesizedRemoteEventForCurrentChange(targetId: TargetId, current: boolean, resumeToken: ByteString): RemoteEvent;
}

export declare class TargetChange {
    
    readonly resumeToken: ByteString;
    
    readonly current: boolean;
    
    readonly addedDocuments: DocumentKeySet;
    
    readonly modifiedDocuments: DocumentKeySet;
    
    readonly removedDocuments: DocumentKeySet;
    constructor(
    
    resumeToken: ByteString, 
    
    current: boolean, 
    
    addedDocuments: DocumentKeySet, 
    
    modifiedDocuments: DocumentKeySet, 
    
    removedDocuments: DocumentKeySet);
    
    static createSynthesizedTargetChangeForCurrentChange(targetId: TargetId, current: boolean, resumeToken: ByteString): TargetChange;
}
