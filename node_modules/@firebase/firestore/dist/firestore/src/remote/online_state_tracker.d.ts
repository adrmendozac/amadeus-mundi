
import { OnlineState } from '../core/types';
import { AsyncQueue } from '../util/async_queue';
import { FirestoreError } from '../util/error';

export declare class OnlineStateTracker {
    private asyncQueue;
    private onlineStateHandler;
    
    private state;
    
    private watchStreamFailures;
    
    private onlineStateTimer;
    
    private shouldWarnClientIsOffline;
    constructor(asyncQueue: AsyncQueue, onlineStateHandler: (onlineState: OnlineState) => void);
    
    handleWatchStreamStart(): void;
    
    handleWatchStreamFailure(error: FirestoreError): void;
    
    set(newState: OnlineState): void;
    private setAndBroadcast;
    private logClientOfflineWarningIfNecessary;
    private clearOnlineStateTimer;
}
