

export type JsonTypeDesc = 'object' | 'string' | 'number' | 'boolean' | 'null' | 'undefined';

export type TSType<T extends JsonTypeDesc> = T extends 'object' ? object : T extends 'string' ? string : T extends 'number' ? number : T extends 'boolean' ? boolean : T extends 'null' ? null : T extends 'undefined' ? undefined : never;

export interface Property<T extends JsonTypeDesc> {
    value?: TSType<T>;
    typeString: JsonTypeDesc;
}

export interface JsonSchema {
    [key: string]: Property<JsonTypeDesc>;
}

export type Json<T extends JsonSchema> = {
    [K in keyof T]: Required<T[K]>['value'];
};

export declare function property<T extends JsonTypeDesc>(typeString: T, optionalValue?: TSType<T>): Property<T>;

export declare function validateJSON<S extends JsonSchema>(json: object, schema: S): json is Json<S>;
