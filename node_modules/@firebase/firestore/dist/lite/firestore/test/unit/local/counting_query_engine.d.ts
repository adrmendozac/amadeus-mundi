
import { Query } from '../../../src/core/query';
import { SnapshotVersion } from '../../../src/core/snapshot_version';
import { IndexManager } from '../../../src/local/index_manager';
import { LocalDocumentsView } from '../../../src/local/local_documents_view';
import { PersistencePromise } from '../../../src/local/persistence_promise';
import { PersistenceTransaction } from '../../../src/local/persistence_transaction';
import { QueryEngine } from '../../../src/local/query_engine';
import { DocumentKeySet, DocumentMap } from '../../../src/model/collections';
import { MutationType } from '../../../src/model/mutation';

export declare class CountingQueryEngine extends QueryEngine {
    
    overlaysReadByCollection: number;
    
    overlaysReadByKey: number;
    overlayTypes: {
        [k: string]: MutationType;
    };
    
    documentsReadByCollection: number;
    
    documentsReadByKey: number;
    resetCounts(): void;
    getDocumentsMatchingQuery(transaction: PersistenceTransaction, query: Query, lastLimboFreeSnapshotVersion: SnapshotVersion, remoteKeys: DocumentKeySet): PersistencePromise<DocumentMap>;
    initialize(localDocuments: LocalDocumentsView, indexManager: IndexManager): void;
    private wrapRemoteDocumentCache;
    private wrapOverlayCache;
}
