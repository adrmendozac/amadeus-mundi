
import { User } from '../../../src/auth/user';
import { DatabaseId } from '../../../src/core/database_info';
import { SequenceNumberSyncer } from '../../../src/core/listen_sequence';
import { BatchId, TargetId } from '../../../src/core/types';
import { IndexedDbPersistence } from '../../../src/local/indexeddb_persistence';
import { LocalSerializer } from '../../../src/local/local_serializer';
import { LruParams } from '../../../src/local/lru_garbage_collector';
import { MemoryPersistence } from '../../../src/local/memory_persistence';
import { ClientId } from '../../../src/local/shared_client_state';
import { JsonProtoSerializer } from '../../../src/remote/serializer';
import { AsyncQueue } from '../../../src/util/async_queue';
import { WindowLike } from '../../../src/util/types';
export declare const MOCK_SEQUENCE_NUMBER_SYNCER: SequenceNumberSyncer;

export declare const TEST_PROJECT = "test-project";
export declare const TEST_DATABASE_ID: DatabaseId;
export declare const TEST_PERSISTENCE_KEY = "[PersistenceTestHelpers]";
export declare const TEST_APP_ID = "test-app-id";

export declare const TEST_PERSISTENCE_PREFIX: string;

export declare const INDEXEDDB_TEST_DATABASE_NAME: string;
export declare const JSON_SERIALIZER: JsonProtoSerializer;

export declare const TEST_SERIALIZER: LocalSerializer;

export declare function testIndexedDbPersistence(options?: {
    dontPurgeData?: boolean;
    synchronizeTabs?: boolean;
    queue?: AsyncQueue;
    schemaVersion?: number;
}, lruParams?: LruParams): Promise<IndexedDbPersistence>;

export declare function testMemoryEagerPersistence(): Promise<MemoryPersistence>;
export declare function testMemoryLruPersistence(params?: LruParams): Promise<MemoryPersistence>;

export declare function clearTestPersistence(): Promise<void>;

export declare function populateWebStorage(user: User, window: WindowLike, existingClientId: ClientId, existingMutationBatchIds: BatchId[], existingQueryTargetIds: TargetId[]): Promise<void>;
