import { AsyncQueue } from '../util/async_queue';
import { LocalStore } from './local_store';
import { Persistence, Scheduler } from './persistence';

export declare class IndexBackfillerScheduler implements Scheduler {
    private readonly asyncQueue;
    private readonly backfiller;
    private task;
    constructor(asyncQueue: AsyncQueue, backfiller: IndexBackfiller);
    start(): void;
    stop(): void;
    get started(): boolean;
    private schedule;
}

export declare class IndexBackfiller {
    
    private readonly localStore;
    private readonly persistence;
    constructor(
    
    localStore: LocalStore, persistence: Persistence);
    backfill(maxDocumentsToProcess?: number): Promise<number>;
    
    private writeIndexEntries;
    
    private writeEntriesForCollectionGroup;
    
    private getNewOffset;
}
