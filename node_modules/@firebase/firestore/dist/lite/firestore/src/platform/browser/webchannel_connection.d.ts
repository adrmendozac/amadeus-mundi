
import { WebChannel } from '@firebase/webchannel-wrapper/webchannel-blob';
import { Token } from '../../api/credentials';
import { DatabaseInfo } from '../../core/database_info';
import { Stream } from '../../remote/connection';
import { RestConnection } from '../../remote/rest_connection';
import { StringMap } from '../../util/types';
export declare class WebChannelConnection extends RestConnection {
    private readonly forceLongPolling;
    private readonly autoDetectLongPolling;
    private readonly useFetchStreams;
    private readonly longPollingOptions;
    
    private openWebChannels;
    constructor(info: DatabaseInfo);
    protected performRPCRequest<Req, Resp>(rpcName: string, url: string, headers: StringMap, body: Req, _forwardCredentials: boolean): Promise<Resp>;
    openStream<Req, Resp>(rpcName: string, authToken: Token | null, appCheckToken: Token | null): Stream<Req, Resp>;
    
    terminate(): void;
    
    addOpenWebChannel(webChannel: WebChannel): void;
    
    removeOpenWebChannel(webChannel: WebChannel): void;
}
