
import { SnapshotVersion } from '../core/snapshot_version';
import { Document } from './document';
import { DocumentKey } from './document_key';
import { FieldPath } from './path';

export declare const INITIAL_LARGEST_BATCH_ID = -1;

export declare const INITIAL_SEQUENCE_NUMBER = 0;

export declare class FieldIndex {
    
    readonly indexId: number;
    
    readonly collectionGroup: string;
    
    readonly fields: IndexSegment[];
    
    readonly indexState: IndexState;
    
    static UNKNOWN_ID: number;
    constructor(
    
    indexId: number, 
    
    collectionGroup: string, 
    
    fields: IndexSegment[], 
    
    indexState: IndexState);
}

export declare function fieldIndexGetArraySegment(fieldIndex: FieldIndex): IndexSegment | undefined;

export declare function fieldIndexGetDirectionalSegments(fieldIndex: FieldIndex): IndexSegment[];

export declare function fieldIndexGetKeyOrder(fieldIndex: FieldIndex): IndexKind;

export declare function fieldIndexSemanticComparator(left: FieldIndex, right: FieldIndex): number;

export declare function fieldIndexToString(fieldIndex: FieldIndex): string;

export declare const enum IndexKind {
    
    ASCENDING = 0,
    
    DESCENDING = 1,
    
    CONTAINS = 2
}

export declare class IndexSegment {
    
    readonly fieldPath: FieldPath;
    
    readonly kind: IndexKind;
    constructor(
    
    fieldPath: FieldPath, 
    
    kind: IndexKind);
}

export declare class IndexState {
    
    readonly sequenceNumber: number;
    
    readonly offset: IndexOffset;
    constructor(
    
    sequenceNumber: number, 
    
    offset: IndexOffset);
    
    static empty(): IndexState;
}

export declare function newIndexOffsetSuccessorFromReadTime(readTime: SnapshotVersion, largestBatchId: number): IndexOffset;

export declare function newIndexOffsetFromDocument(document: Document): IndexOffset;

export declare class IndexOffset {
    
    readonly readTime: SnapshotVersion;
    
    readonly documentKey: DocumentKey;
    readonly largestBatchId: number;
    constructor(
    
    readTime: SnapshotVersion, 
    
    documentKey: DocumentKey, largestBatchId: number);
    
    static min(): IndexOffset;
    
    static max(): IndexOffset;
}
export declare function indexOffsetComparator(left: IndexOffset, right: IndexOffset): number;
