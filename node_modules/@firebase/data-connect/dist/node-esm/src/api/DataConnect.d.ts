
import { FirebaseApp } from '@firebase/app';
import { AppCheckInternalComponentName } from '@firebase/app-check-interop-types';
import { FirebaseAuthInternalName } from '@firebase/auth-interop-types';
import { Provider } from '@firebase/component';
import { QueryManager } from '../core/QueryManager';
import { CallerSdkType } from '../network';
import { MutationManager } from './Mutation';

export interface ConnectorConfig {
    location: string;
    connector: string;
    service: string;
}

export interface TransportOptions {
    host: string;
    sslEnabled?: boolean;
    port?: number;
}

export declare function parseOptions(fullHost: string): TransportOptions;

export interface DataConnectOptions extends ConnectorConfig {
    projectId: string;
}

export declare class DataConnect {
    readonly app: FirebaseApp;
    private readonly dataConnectOptions;
    private readonly _authProvider;
    private readonly _appCheckProvider;
    _queryManager: QueryManager;
    _mutationManager: MutationManager;
    isEmulator: boolean;
    _initialized: boolean;
    private _transport;
    private _transportClass;
    private _transportOptions?;
    private _authTokenProvider?;
    _isUsingGeneratedSdk: boolean;
    _callerSdkType: CallerSdkType;
    private _appCheckTokenProvider?;
    constructor(app: FirebaseApp, dataConnectOptions: DataConnectOptions, _authProvider: Provider<FirebaseAuthInternalName>, _appCheckProvider: Provider<AppCheckInternalComponentName>);
    _useGeneratedSdk(): void;
    _setCallerSdkType(callerSdkType: CallerSdkType): void;
    _delete(): Promise<void>;
    getSettings(): ConnectorConfig;
    setInitialized(): void;
    enableEmulator(transportOptions: TransportOptions): void;
}

export declare function areTransportOptionsEqual(transportOptions1: TransportOptions, transportOptions2: TransportOptions): boolean;

export declare function connectDataConnectEmulator(dc: DataConnect, host: string, port?: number, sslEnabled?: boolean): void;

export declare function getDataConnect(options: ConnectorConfig): DataConnect;

export declare function getDataConnect(app: FirebaseApp, options: ConnectorConfig): DataConnect;

export declare function validateDCOptions(dcOptions: ConnectorConfig): boolean;

export declare function terminate(dataConnect: DataConnect): Promise<void>;
