import type { AwsCredentialIdentity, ChecksumConstructor, DateInput, HashConstructor, HeaderBag, HttpRequest, Provider } from "@smithy/types";

export interface SignatureV4Init {
    
    service: string;
    
    region: string | Provider<string>;
    
    credentials: AwsCredentialIdentity | Provider<AwsCredentialIdentity>;
    
    sha256?: ChecksumConstructor | HashConstructor;
    
    uriEscapePath?: boolean;
    
    applyChecksum?: boolean;
}

export interface SignatureV4CryptoInit {
    sha256: ChecksumConstructor | HashConstructor;
}

export declare abstract class SignatureV4Base {
    protected readonly service: string;
    protected readonly regionProvider: Provider<string>;
    protected readonly credentialProvider: Provider<AwsCredentialIdentity>;
    protected readonly sha256: ChecksumConstructor | HashConstructor;
    private readonly uriEscapePath;
    protected readonly applyChecksum: boolean;
    protected constructor({ applyChecksum, credentials, region, service, sha256, uriEscapePath, }: SignatureV4Init & SignatureV4CryptoInit);
    protected createCanonicalRequest(request: HttpRequest, canonicalHeaders: HeaderBag, payloadHash: string): string;
    protected createStringToSign(longDate: string, credentialScope: string, canonicalRequest: string, algorithmIdentifier: string): Promise<string>;
    private getCanonicalPath;
    protected validateResolvedCredentials(credentials: unknown): void;
    protected formatDate(now: DateInput): {
        longDate: string;
        shortDate: string;
    };
    protected getCanonicalHeaderList(headers: object): string;
}
