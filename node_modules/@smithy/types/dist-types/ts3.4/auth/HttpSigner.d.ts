import { HttpRequest, HttpResponse } from "../http";
import { Identity } from "../identity/identity";

export interface ErrorHandler {
    (signingProperties: Record<string, unknown>): <E extends Error>(error: E) => never;
}

export interface SuccessHandler {
    (httpResponse: HttpResponse | unknown, signingProperties: Record<string, unknown>): void;
}

export interface HttpSigner {
    
    sign(httpRequest: HttpRequest, identity: Identity, signingProperties: Record<string, unknown>): Promise<HttpRequest>;
    
    errorHandler?: ErrorHandler;
    
    successHandler?: SuccessHandler;
}
