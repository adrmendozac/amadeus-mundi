import { AbortSignal as DeprecatedAbortSignal } from "./abort";
import { URI } from "./uri";

export interface Endpoint {
    protocol: string;
    hostname: string;
    port?: number;
    path: string;
    query?: QueryParameterBag;
}

export interface HttpRequest extends HttpMessage, URI {
    method: string;
}

export interface HttpResponse extends HttpMessage {
    statusCode: number;
    reason?: string;
}

export interface HttpMessage {
    headers: HeaderBag;
    body?: any;
}

export type QueryParameterBag = Record<string, string | Array<string> | null>;

export type FieldOptions = {
    name: string;
    kind?: FieldPosition;
    values?: string[];
};

export declare enum FieldPosition {
    HEADER = 0,
    TRAILER = 1
}

export type HeaderBag = Record<string, string>;

export interface HttpMessage {
    headers: HeaderBag;
    body?: any;
}

export interface HttpHandlerOptions {
    abortSignal?: AbortSignal | DeprecatedAbortSignal;
    
    requestTimeout?: number;
}
