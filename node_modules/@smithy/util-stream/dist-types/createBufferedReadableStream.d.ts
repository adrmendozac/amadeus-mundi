import type { Logger } from "@smithy/types";
import { ByteArrayCollector } from "./ByteArrayCollector";
export type BufferStore = [string, ByteArrayCollector, ByteArrayCollector?];
export type BufferUnion = string | Uint8Array;
export type Modes = 0 | 1 | 2;

export declare function createBufferedReadableStream(upstream: ReadableStream, size: number, logger?: Logger): ReadableStream;

export declare const createBufferedReadable: typeof createBufferedReadableStream;

export declare function merge(buffers: BufferStore, mode: Modes, chunk: string | Uint8Array): number;

export declare function flush(buffers: BufferStore, mode: Modes | -1): BufferUnion;

export declare function sizeOf(chunk?: {
    byteLength?: number;
    length?: number;
}): number;

export declare function modeOf(chunk: BufferUnion, allowBuffer?: boolean): Modes | -1;
