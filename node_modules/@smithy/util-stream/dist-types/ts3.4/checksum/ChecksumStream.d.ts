import { Checksum, Encoder } from "@smithy/types";
import { Readable } from "stream";
import { Duplex } from "stream";

export interface ChecksumStreamInit<T extends Readable | ReadableStream> {
    
    expectedChecksum: string;
    
    checksumSourceLocation: string;
    
    checksum: Checksum;
    
    source: T;
    
    base64Encoder?: Encoder;
}

export declare class ChecksumStream extends Duplex {
    private expectedChecksum;
    private checksumSourceLocation;
    private checksum;
    private source?;
    private base64Encoder;
    constructor({ expectedChecksum, checksum, source, checksumSourceLocation, base64Encoder, }: ChecksumStreamInit<Readable>);
    
    _read(size: number): void;
    
    _write(chunk: Buffer, encoding: string, callback: (err?: Error) => void): void;
    
    _final(callback: (err?: Error) => void): Promise<void>;
}
