

import { ConnectionOptions, PeerCertificate, SecureContext } from 'tls';
import { CallCredentials } from './call-credentials';

export type CheckServerIdentityCallback = (hostname: string, cert: PeerCertificate) => Error | undefined;

export interface VerifyOptions {
    
    checkServerIdentity?: CheckServerIdentityCallback;
}

export declare abstract class ChannelCredentials {
    protected callCredentials: CallCredentials;
    protected constructor(callCredentials?: CallCredentials);
    
    abstract compose(callCredentials: CallCredentials): ChannelCredentials;
    
    _getCallCredentials(): CallCredentials;
    
    abstract _getConnectionOptions(): ConnectionOptions | null;
    
    abstract _isSecure(): boolean;
    
    abstract _equals(other: ChannelCredentials): boolean;
    
    static createSsl(rootCerts?: Buffer | null, privateKey?: Buffer | null, certChain?: Buffer | null, verifyOptions?: VerifyOptions): ChannelCredentials;
    
    static createFromSecureContext(secureContext: SecureContext, verifyOptions?: VerifyOptions): ChannelCredentials;
    
    static createInsecure(): ChannelCredentials;
}
