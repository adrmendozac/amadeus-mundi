import { StatusObject } from './call-interface';
import { Metadata } from './metadata';
import { Status } from './constants';
import { LoadBalancer } from './load-balancer';
import { SubchannelInterface } from './subchannel-interface';
export declare enum PickResultType {
    COMPLETE = 0,
    QUEUE = 1,
    TRANSIENT_FAILURE = 2,
    DROP = 3
}
export interface PickResult {
    pickResultType: PickResultType;
    
    subchannel: SubchannelInterface | null;
    
    status: StatusObject | null;
    onCallStarted: (() => void) | null;
    onCallEnded: ((statusCode: Status) => void) | null;
}
export interface CompletePickResult extends PickResult {
    pickResultType: PickResultType.COMPLETE;
    subchannel: SubchannelInterface | null;
    status: null;
    onCallStarted: (() => void) | null;
    onCallEnded: ((statusCode: Status) => void) | null;
}
export interface QueuePickResult extends PickResult {
    pickResultType: PickResultType.QUEUE;
    subchannel: null;
    status: null;
    onCallStarted: null;
    onCallEnded: null;
}
export interface TransientFailurePickResult extends PickResult {
    pickResultType: PickResultType.TRANSIENT_FAILURE;
    subchannel: null;
    status: StatusObject;
    onCallStarted: null;
    onCallEnded: null;
}
export interface DropCallPickResult extends PickResult {
    pickResultType: PickResultType.DROP;
    subchannel: null;
    status: StatusObject;
    onCallStarted: null;
    onCallEnded: null;
}
export interface PickArgs {
    metadata: Metadata;
    extraPickInfo: {
        [key: string]: string;
    };
}

export interface Picker {
    pick(pickArgs: PickArgs): PickResult;
}

export declare class UnavailablePicker implements Picker {
    private status;
    constructor(status?: Partial<StatusObject>);
    pick(pickArgs: PickArgs): TransientFailurePickResult;
}

export declare class QueuePicker {
    private loadBalancer;
    private calledExitIdle;
    constructor(loadBalancer: LoadBalancer);
    pick(pickArgs: PickArgs): QueuePickResult;
}
