

import * as fs from 'fs';

export const CIPHER_SUITES: string | undefined =
  process.env.GRPC_SSL_CIPHER_SUITES;

const DEFAULT_ROOTS_FILE_PATH = process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;

let defaultRootsData: Buffer | null = null;

export function getDefaultRootsData(): Buffer | null {
  if (DEFAULT_ROOTS_FILE_PATH) {
    if (defaultRootsData === null) {
      defaultRootsData = fs.readFileSync(DEFAULT_ROOTS_FILE_PATH);
    }
    return defaultRootsData;
  }
  return null;
}
